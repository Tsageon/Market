{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const fetchItems = createAsyncThunk('items/fetchItems', async () => {\n  const response = await axios.get('http://localhost:4000/api/getItems');\n  return response.data.data;\n});\nexport const addItem = createAsyncThunk('items/addItem', async item => {\n  const response = await axios.post('http://localhost:4000/api/addItem', item);\n  return {\n    ...item,\n    id: response.data.id\n  };\n});\nexport const updateItem = createAsyncThunk('items/updateItem', async item => {\n  await axios.put(`https://backendma-2.onrender.com/api/updateItem`, item);\n  return item;\n});\nexport const deleteItem = createAsyncThunk('items/deleteItem', async id => {\n  await axios.delete(`https://backendma-2.onrender.com/api/deleteItem/${id}`);\n  return id;\n});\nconst itemsSlice = createSlice({\n  name: 'items',\n  initialState: {\n    items: [],\n    filteredItems: [],\n    status: 'idle',\n    error: null\n  },\n  reducers: {\n    filterItems: (state, action) => {\n      const filterType = action.payload;\n      if (filterType === 'all') {\n        state.filteredItems = state.items;\n      } else {\n        state.filteredItems = state.items.filter(item => {\n          switch (filterType) {\n            case 'type':\n              return item.type;\n            case 'availability':\n              return item.availability;\n            case 'stockLeft':\n              return item.stockLeft > 0;\n            case 'name':\n              return item.name.toLowerCase().includes('your-search-term');\n            default:\n              return true;\n          }\n        });\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchItems.pending, state => {\n      state.status = 'loading';\n    }).addCase(fetchItems.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      state.items = action.payload;\n      state.filteredItems = action.payload;\n    }).addCase(fetchItems.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(addItem.fulfilled, (state, action) => {\n      state.items.push(action.payload);\n      state.filteredItems.push(action.payload);\n    }).addCase(updateItem.fulfilled, (state, action) => {\n      const index = state.items.findIndex(item => item.id === action.payload.id);\n      if (index !== -1) {\n        state.items[index] = action.payload;\n        const filteredIndex = state.filteredItems.findIndex(item => item.id === action.payload.id);\n        if (filteredIndex !== -1) {\n          state.filteredItems[filteredIndex] = action.payload;\n        }\n      }\n    }).addCase(deleteItem.fulfilled, (state, action) => {\n      state.items = state.items.filter(item => item.id !== action.payload);\n    });\n  }\n});\nexport const {\n  filterItems\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchItems","response","get","data","addItem","item","post","id","updateItem","put","deleteItem","delete","itemsSlice","name","initialState","items","filteredItems","status","error","reducers","filterItems","state","action","filterType","payload","filter","type","availability","stockLeft","toLowerCase","includes","extraReducers","builder","addCase","pending","fulfilled","rejected","message","push","index","findIndex","filteredIndex","actions","reducer"],"sources":["C:/Users/Administrator/Desktop/marrket/src/Redux/itemSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\nexport const fetchItems = createAsyncThunk('items/fetchItems', async () => {\r\n  const response = await axios.get('http://localhost:4000/api/getItems');\r\n  return response.data.data; \r\n});\r\n\r\nexport const addItem = createAsyncThunk('items/addItem', async (item) => {\r\n  const response = await axios.post('http://localhost:4000/api/addItem', item);\r\n  return { ...item, id: response.data.id }; \r\n});\r\n\r\nexport const updateItem = createAsyncThunk('items/updateItem', async (item) => {\r\n  await axios.put(`https://backendma-2.onrender.com/api/updateItem`, item);\r\n  return item;\r\n});\r\n\r\nexport const deleteItem = createAsyncThunk('items/deleteItem', async (id) => {\r\n  await axios.delete(`https://backendma-2.onrender.com/api/deleteItem/${id}`);\r\n  return id;\r\n});\r\n\r\n\r\nconst itemsSlice = createSlice({\r\n  name: 'items',\r\n  initialState: {\r\n    items: [],\r\n    filteredItems: [],\r\n    status: 'idle',\r\n    error: null,\r\n  },\r\n  reducers: {   filterItems: (state, action) => {\r\n    const filterType = action.payload;\r\n    if (filterType === 'all') {\r\n      state.filteredItems = state.items; \r\n    } else {\r\n      state.filteredItems = state.items.filter(item => {\r\n        switch (filterType) {\r\n          case 'type':\r\n            return item.type;\r\n          case 'availability':\r\n            return item.availability; \r\n          case 'stockLeft':\r\n            return item.stockLeft > 0;\r\n          case 'name':\r\n            return item.name.toLowerCase().includes('your-search-term'); \r\n          default:\r\n            return true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n},\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchItems.pending, (state) => {\r\n        state.status = 'loading';\r\n      })\r\n      .addCase(fetchItems.fulfilled, (state, action) => {\r\n        state.status = 'succeeded';\r\n        state.items = action.payload;\r\n        state.filteredItems = action.payload; \r\n      })\r\n      .addCase(fetchItems.rejected, (state, action) => {\r\n        state.status = 'failed';\r\n        state.error = action.error.message;\r\n      })\r\n     \r\n      .addCase(addItem.fulfilled, (state, action) => {\r\n        state.items.push(action.payload);\r\n        state.filteredItems.push(action.payload); \r\n      })\r\n     \r\n      .addCase(updateItem.fulfilled, (state, action) => {\r\n        const index = state.items.findIndex(item => item.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.items[index] = action.payload;\r\n          const filteredIndex = state.filteredItems.findIndex(item => item.id === action.payload.id);\r\n          if (filteredIndex !== -1) {\r\n            state.filteredItems[filteredIndex] = action.payload;\r\n          }\r\n        }\r\n      })\r\n      .addCase(deleteItem.fulfilled, (state, action) => {\r\n        state.items = state.items.filter(item => item.id !== action.payload);\r\n      });\r\n  },\r\n});\r\n\r\nexport const { filterItems } = itemsSlice.actions;\r\nexport default itemsSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,UAAU,GAAGF,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzE,MAAMG,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,oCAAoC,CAAC;EACtE,OAAOD,QAAQ,CAACE,IAAI,CAACA,IAAI;AAC3B,CAAC,CAAC;AAEF,OAAO,MAAMC,OAAO,GAAGN,gBAAgB,CAAC,eAAe,EAAE,MAAOO,IAAI,IAAK;EACvE,MAAMJ,QAAQ,GAAG,MAAMF,KAAK,CAACO,IAAI,CAAC,mCAAmC,EAAED,IAAI,CAAC;EAC5E,OAAO;IAAE,GAAGA,IAAI;IAAEE,EAAE,EAAEN,QAAQ,CAACE,IAAI,CAACI;EAAG,CAAC;AAC1C,CAAC,CAAC;AAEF,OAAO,MAAMC,UAAU,GAAGV,gBAAgB,CAAC,kBAAkB,EAAE,MAAOO,IAAI,IAAK;EAC7E,MAAMN,KAAK,CAACU,GAAG,CAAC,iDAAiD,EAAEJ,IAAI,CAAC;EACxE,OAAOA,IAAI;AACb,CAAC,CAAC;AAEF,OAAO,MAAMK,UAAU,GAAGZ,gBAAgB,CAAC,kBAAkB,EAAE,MAAOS,EAAE,IAAK;EAC3E,MAAMR,KAAK,CAACY,MAAM,CAAC,mDAAmDJ,EAAE,EAAE,CAAC;EAC3E,OAAOA,EAAE;AACX,CAAC,CAAC;AAGF,MAAMK,UAAU,GAAGf,WAAW,CAAC;EAC7BgB,IAAI,EAAE,OAAO;EACbC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,aAAa,EAAE,EAAE;IACjBC,MAAM,EAAE,MAAM;IACdC,KAAK,EAAE;EACT,CAAC;EACDC,QAAQ,EAAE;IAAIC,WAAW,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC5C,MAAMC,UAAU,GAAGD,MAAM,CAACE,OAAO;MACjC,IAAID,UAAU,KAAK,KAAK,EAAE;QACxBF,KAAK,CAACL,aAAa,GAAGK,KAAK,CAACN,KAAK;MACnC,CAAC,MAAM;QACLM,KAAK,CAACL,aAAa,GAAGK,KAAK,CAACN,KAAK,CAACU,MAAM,CAACpB,IAAI,IAAI;UAC/C,QAAQkB,UAAU;YAChB,KAAK,MAAM;cACT,OAAOlB,IAAI,CAACqB,IAAI;YAClB,KAAK,cAAc;cACjB,OAAOrB,IAAI,CAACsB,YAAY;YAC1B,KAAK,WAAW;cACd,OAAOtB,IAAI,CAACuB,SAAS,GAAG,CAAC;YAC3B,KAAK,MAAM;cACT,OAAOvB,IAAI,CAACQ,IAAI,CAACgB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,kBAAkB,CAAC;YAC7D;cACE,OAAO,IAAI;UACf;QACF,CAAC,CAAC;MACJ;IACF;EACF,CAAC;EACCC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACjC,UAAU,CAACkC,OAAO,EAAGb,KAAK,IAAK;MACtCA,KAAK,CAACJ,MAAM,GAAG,SAAS;IAC1B,CAAC,CAAC,CACDgB,OAAO,CAACjC,UAAU,CAACmC,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACJ,MAAM,GAAG,WAAW;MAC1BI,KAAK,CAACN,KAAK,GAAGO,MAAM,CAACE,OAAO;MAC5BH,KAAK,CAACL,aAAa,GAAGM,MAAM,CAACE,OAAO;IACtC,CAAC,CAAC,CACDS,OAAO,CAACjC,UAAU,CAACoC,QAAQ,EAAE,CAACf,KAAK,EAAEC,MAAM,KAAK;MAC/CD,KAAK,CAACJ,MAAM,GAAG,QAAQ;MACvBI,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACJ,KAAK,CAACmB,OAAO;IACpC,CAAC,CAAC,CAEDJ,OAAO,CAAC7B,OAAO,CAAC+B,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MAC7CD,KAAK,CAACN,KAAK,CAACuB,IAAI,CAAChB,MAAM,CAACE,OAAO,CAAC;MAChCH,KAAK,CAACL,aAAa,CAACsB,IAAI,CAAChB,MAAM,CAACE,OAAO,CAAC;IAC1C,CAAC,CAAC,CAEDS,OAAO,CAACzB,UAAU,CAAC2B,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MAChD,MAAMiB,KAAK,GAAGlB,KAAK,CAACN,KAAK,CAACyB,SAAS,CAACnC,IAAI,IAAIA,IAAI,CAACE,EAAE,KAAKe,MAAM,CAACE,OAAO,CAACjB,EAAE,CAAC;MAC1E,IAAIgC,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBlB,KAAK,CAACN,KAAK,CAACwB,KAAK,CAAC,GAAGjB,MAAM,CAACE,OAAO;QACnC,MAAMiB,aAAa,GAAGpB,KAAK,CAACL,aAAa,CAACwB,SAAS,CAACnC,IAAI,IAAIA,IAAI,CAACE,EAAE,KAAKe,MAAM,CAACE,OAAO,CAACjB,EAAE,CAAC;QAC1F,IAAIkC,aAAa,KAAK,CAAC,CAAC,EAAE;UACxBpB,KAAK,CAACL,aAAa,CAACyB,aAAa,CAAC,GAAGnB,MAAM,CAACE,OAAO;QACrD;MACF;IACF,CAAC,CAAC,CACDS,OAAO,CAACvB,UAAU,CAACyB,SAAS,EAAE,CAACd,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACN,KAAK,GAAGM,KAAK,CAACN,KAAK,CAACU,MAAM,CAACpB,IAAI,IAAIA,IAAI,CAACE,EAAE,KAAKe,MAAM,CAACE,OAAO,CAAC;IACtE,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEJ;AAAY,CAAC,GAAGR,UAAU,CAAC8B,OAAO;AACjD,eAAe9B,UAAU,CAAC+B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}