{"ast":null,"code":"import React,{useEffect}from'react';import{useNavigate}from'react-router';import{useSelector}from'react-redux';import{useDispatch}from'react-redux';import{selectUser,setUser,setLoading,setError}from'../Redux/authSlice';import'./Profile.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=_ref=>{let{registerInfo}=_ref;const dispatch=useDispatch();const navigate=useNavigate();const user=useSelector(selectUser);const userInfo=user||registerInfo;useEffect(()=>{console.log('User from Redux store:',user);if(user===undefined){setLoading(true);}else if(user===null){setError('No user found');}else{setLoading(false);}},[user]);const generateInitials=email=>{const nameParts=email.split('@')[0].split('.');const initials=nameParts.map(part=>part.charAt(0).toUpperCase()).join('');return initials||'NA';};const avatarStyles={display:'inline-flex',justifyContent:'center',alignItems:'center',width:'40px',height:'40px',borderRadius:'50%',backgroundColor:'#007bff',color:'white',fontWeight:'bold',fontSize:'16px'};const getAvatar=email=>{const initials=generateInitials(email);return/*#__PURE__*/_jsx(\"div\",{style:avatarStyles,children:initials});};const handleLogout=()=>{dispatch(setUser(null));localStorage.removeItem('User');navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container \",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile\"}),userInfo?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Avatar:\"}),\" \",getAvatar(userInfo.email)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",userInfo.name||'N/A']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",userInfo.email||'N/A']}),/*#__PURE__*/_jsx(\"button\",{className:\"buy-button\",onClick:handleLogout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"no-info\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No information available.\"})})]});};export default UserProfile;","map":{"version":3,"names":["React","useEffect","useNavigate","useSelector","useDispatch","selectUser","setUser","setLoading","setError","jsx","_jsx","jsxs","_jsxs","UserProfile","_ref","registerInfo","dispatch","navigate","user","userInfo","console","log","undefined","generateInitials","email","nameParts","split","initials","map","part","charAt","toUpperCase","join","avatarStyles","display","justifyContent","alignItems","width","height","borderRadius","backgroundColor","color","fontWeight","fontSize","getAvatar","style","children","handleLogout","localStorage","removeItem","className","name","onClick"],"sources":["C:/Users/Administrator/Desktop/marrket/src/Components/Profile.js"],"sourcesContent":["import React,{useEffect} from 'react';\r\nimport { useNavigate } from 'react-router';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { selectUser, setUser,setLoading, setError } from '../Redux/authSlice';\r\nimport './Profile.css'\r\n\r\nconst UserProfile = ({ registerInfo }) => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  \r\n  const user = useSelector(selectUser);\r\n\r\n  const userInfo = user || registerInfo;\r\n\r\n  useEffect(() => {\r\n    console.log('User from Redux store:', user);  \r\n    if (user === undefined) {\r\n      setLoading(true);\r\n    } else if (user === null) {\r\n      setError('No user found');\r\n    } else {\r\n      setLoading(false); \r\n    }\r\n  }, [user]);\r\n\r\n  const generateInitials = (email) => {\r\n    const nameParts = email.split('@')[0].split('.');\r\n    const initials = nameParts.map(part => part.charAt(0).toUpperCase()).join('');\r\n    return initials || 'NA';\r\n  };\r\n\r\n  const avatarStyles = {\r\n    display: 'inline-flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: '40px',\r\n    height: '40px',\r\n    borderRadius: '50%',\r\n    backgroundColor: '#007bff',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '16px',\r\n  };\r\n\r\n  const getAvatar = (email) => {\r\n    const initials = generateInitials(email);\r\n    return (\r\n      <div style={avatarStyles}>\r\n        {initials}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    dispatch(setUser(null));  \r\n    localStorage.removeItem('User');  \r\n    navigate('/login'); \r\n};\r\n\r\n\r\n  return (\r\n    <div className='profile-container '>\r\n    <h2>Profile</h2>\r\n    {userInfo ? (\r\n      <div className='profile-info'>\r\n        <div>\r\n          <strong>Avatar:</strong> {getAvatar(userInfo.email)}\r\n        </div>\r\n        <p><strong>Name:</strong> {userInfo.name || 'N/A'}</p>\r\n        <p><strong>Email:</strong> {userInfo.email || 'N/A'}</p>\r\n        <button className=\"buy-button\" onClick={handleLogout}>Logout</button>\r\n      </div>\r\n    ) : (\r\n     <div className='no-info'><p>No information available.</p></div>\r\n    )}\r\n  </div>\r\n);\r\n};\r\n\r\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}